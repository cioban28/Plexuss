$(document).ready(function(){$(document).on('click','.social_share',function(){if($(this).hasClass('share_college')){var button_params=$(this).data('params');var param_string=JSON.stringify(button_params);var reparsed_params=JSON.parse(param_string);var platform=reparsed_params.platform;prepShareCollege(platform,$(this));}
else{var params=$(this).data('params');serveShare(params);}});});function serveShare(params){var href=typeof(params.href)!='undefined'?params.href:document.URL;var viewport_width=Math.max(document.documentElement.clientWidth,window.innerWidth||0);var viewport_height=Math.max(document.documentElement.clientHeight,window.innerHeight||0);var win_width=666;var win_height=255;var left=viewport_width/2-win_width/2;var t=viewport_height/2-win_height/2;switch(params.platform){case'facebook':var name=params.name;var picture=params.picture;FB.ui({method:'feed',link:href,name:name,picture:picture},function(response){});break;case'twitter':var text=escape(params.text);href=escape(href);window.open("https://twitter.com/intent/tweet"+"?url="+href+"&text="+text+"&via=plexussupdates","","top="+t+", left="+left+", height="+win_height+", width="+win_width);break;case'pinterest':var desc=params.description;var picture=params.picture;window.open("https://www.pinterest.com/pin/create/button/"+"?url="+href+"&media="+picture+"&description="+desc,"","top="+t+", left="+left+", height="+win_height+", width="+win_width);break;case'linkedin':win_height=315;if(typeof params.href=='undefined'){params.href=href;}
window.open('/social/share/linkedin/storeArticle'+'?params='+JSON.stringify(params),'','top='+t+', left='+left+', height='+win_height+', width='+win_width);break;default:console.log(params.platform+' is not a recognized platform to serve!');}}
function prepShareCollege(platform,button){if(typeof Plex.current_overview_image!='undefined'){setOverviewShareImage();}
var unparsed_params=$('#share_div_of_holding').data('share_params');var param_string=JSON.stringify(unparsed_params);var reparsed_params=JSON.parse(param_string);var params=reparsed_params;switch(platform){case'facebook':var name=params.page_title;var picture=params.image_prefix+params.image_name;params={"platform":"facebook","name":name,"picture":picture};serveShare(params);break;case'twitter':var text=params.page_title;params={"platform":"twitter","text":text};serveShare(params);break;case'pinterest':var description=params.page_title;var picture=params.image_prefix+params.image_name;params={"platform":"pinterest","description":description,"picture":picture};serveShare(params);break;case'linkedin':var title=params.page_title;var picture=$(".schoolHeaderLogo").attr("src");params={"platform":"linkedin","title":title,"picture":picture};serveShare(params);break;default:console.log(platform+' is not a recognized platform to prep!');}}
function setOverviewShareImage(){var div_of_holding=$('#share_div_of_holding');var share_params=div_of_holding.data('share_params');share_params.image_name=Plex.current_overview_image;div_of_holding.data('share_params',share_params);}
$(document).on('click','.thumbnail-to-fullview',function(){var ranking_img_name='https://s3-us-west-2.amazonaws.com/asset.plexuss.com/ranking/images/'+$(this).data('img-name');$('#ranking-data-fullview-modal img').attr('src',ranking_img_name);var modal=$('#ranking-data-fullview-modal');modal.css({top:$(document).scrollTop()+100+"px"});modal.foundation('reveal','open');});