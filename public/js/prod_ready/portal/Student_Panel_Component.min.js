var Plex=Plex||{};Plex.studentElem=$("#student_youre_messaging");var Student_Messaging_Component=React.createClass({displayName:"Student_Messaging_Component",getInitialState:function(){return{student:null}},componentWillMount:function(){Plex.studentElem.is(":visible")||this.showPanel(),this.setState({student:this.props.student})},componentWillReceiveProps:function(e){e.student.name!==this.props.name&&this.setState({student:e.student})},componentWillUnmount:function(){this.hidePanel()},hidePanel:function(){Plex.studentElem.addClass("hardhide"),$("#admin-messages .rightMessageColumn").removeClass("large-6").addClass("large-9")},showPanel:function(){Plex.studentElem.removeClass("hardhide"),$("#admin-messages .rightMessageColumn").removeClass("large-9").addClass("large-6")},getGrade:function(){var e=this.getLevel();switch(e){case"Senior":return"12th Grade";case"Junior":return"11th Grade";case"Sophmore":return"10th Grade";case"Freshman":return"9th Grade";default:return""}},getLevel:function(){var e=this.state.student.grad_year,t=(new Date).getFullYear(),n=0;switch(n=e-t){case 0:return"Senior/Graduate";case 1:return"Senior";case 2:return"Junior";case 3:return"Sophmore";case 4:return"Freshman";default:return n<0?"Graduate":"Pre-HighSchool"}},getDegree:function(){return this.state.student.degree_name?this.state.student.degree_initials+", "+this.state.student.major_name:"N/A"},getFlag:function(){return"country flag flag-"+this.state.student.country_code.toLowerCase()},getFinancial:function(){return this.state.student.financial?this.state.student.financial:"N/A"},getStartDate:function(){return this.state.student.start_date?this.state.student.start_date:"N/A"},render:function(){var e=this.state.student,t={backgroundImage:"url("+e.profile_img_loc+")"},n=e?this.getGrade():"",a=e?this.getLevel():"",s=e?this.getDegree():"",r=e?this.getFlag():"country",l=e?this.getFinancial():"",i=e?this.getStartDate():"";return React.createElement("div",{className:"student-youre-messaging clearfix"},React.createElement("div",{className:"pic",style:t}),React.createElement("div",{className:"name"},e.name||""),React.createElement("div",{className:"name-country"},React.createElement("div",{className:r}),React.createElement("div",null,e.country_name||"")),n?React.createElement("div",{className:"grade"},n):null,a?React.createElement("div",{className:"level"},a):null,e.current_school?React.createElement("div",{className:"school"},e.current_school):null,e.grad_year?React.createElement("div",{className:"grad"},"Grad Date: "+e.grad_year):null,"N/A"!==s?React.createElement("div",{className:"degree"},s):null,"N/A"!==l?React.createElement("div",{className:"financial"},l):null,"N/A"!==i?React.createElement("div",{className:"start-date"},i):null)}});Plex.initRep=function(e){!e||_.isEmpty(e)||e.is_list_user?$("#student_youre_messaging").children().length>0&&ReactDOM.unmountComponentAtNode(document.getElementById("student_youre_messaging")):ReactDOM.render(React.createElement(Student_Messaging_Component,{student:e}),document.getElementById("student_youre_messaging"))},Plex.unmountStudentPanel=function(){ReactDOM.unmountComponentAtNode(document.getElementById("student_youre_messaging"))};