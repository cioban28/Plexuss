var PortalSideNav_Component=React.createClass({displayName:"PortalSideNav_Component",getInitialState:function(){return{open:!1,tabs:[],tab_ui:[]}},componentWillMount:function(){this.getPath(),this.getData(),this.initTabs()},componentDidMount:function(){window.innerWidth>=642&&$(document).trigger("showTutorial")},getData:function(){var t=this;$.ajax({url:"/ajax/portal/getPortalData",type:"GET",headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}).done(function(e){t.updateCounts(e)})},initTabs:function(){var t=[],e=null,a=this;e=function(t,e,n,i){this.name=t||null,this.txt=e||null,this.open=!1,console.log(),this.active=a.getPath()===t,this.handler=i?a.toggleNav:a.openTabSection,this.count=n||0,this.showTip=!1},t.push(new e("navtoggle","Menu",0,(!0))),t.push(new e("messages","Messages",0,(!1))),t.push(new e("scholarships","Scholarships",0,(!1))),t.push(new e("applications","Applications",0,(!1))),t.push(new e("portal","Your list",0,(!1))),t.push(new e("recommendationlist","Recommended by Plexuss",0,(!1))),t.push(new e("collegesrecruityou","Schools want to recruit you",0,(!1))),t.push(new e("collegesviewedprofile","Colleges viewing you",0,(!1))),t.push(new e("getTrashSchoolList","Trash",0,(!1))),this.state.tabs=t,this.buildTabUI()},getPath:function(){return window.location.pathname.split("/").pop()},updateCounts:function(t){var e=this.state.tabs.slice(),a=null,n=null;for(n in t)t.hasOwnProperty(n)&&(a=_.findWhere(e,{name:n}),a.count=t[n]?t[n]:0);this.state.tabs=e,this.buildTabUI()},buildTabUI:function(){var t=[],e=this.state.tabs.slice();_.each(e,function(e,a){t.push(React.createElement(Nav_Item,{key:a,tab:e}))}),this.setState({tab_ui:t})},toggleNav:function(t){var e=this.state.tabs.slice(),a=!1;_.each(e,function(t){t.open=!t.open,a=t.open}),this.state.open=a,this.state.tabs=e,this.buildTabUI()},openTabSection:function(t){var e=$(t.target),a=e.data("name")||e.closest(".item").data("name"),n=this.state.tabs.slice();_.each(n,function(t){t.name===a?t.active=!0:t.active=!1}),loadPortalTabs(a),this.getData(),this.buildTabUI()},render:function(){var t=this.state.open?"nav-container open":"nav-container closed";return React.createElement("div",{className:t},React.createElement("ul",null,this.state.tab_ui))}}),Nav_Item=React.createClass({displayName:"Nav_Item",getInitialState:function(){return{this_tab:null}},componentWillMount:function(){this.setState({this_tab:this.props.tab})},showTip:function(){var t=this.props.tab;t.open||(t.showTip=!0,this.setState({this_tab:t}))},hideTip:function(){var t=this.props.tab;t.showTip=!1,this.setState({this_tab:t})},render:function(){var t=this.props.tab,e="icon "+t.name,a=t.active?"item active":"item",n=t.count>10?"10+":t.count;return React.createElement("li",{className:a,onClick:t.handler,"data-name":t.name,onMouseEnter:this.showTip,onMouseLeave:this.hideTip},React.createElement("div",{className:e},+t.count>0?React.createElement("div",{className:"count text-center"},n):null),t.open?React.createElement("div",{className:"name"},t.txt):null,this.state.this_tab.showTip?React.createElement("div",{className:"tip"},React.createElement("span",{className:"pointer"}),t.txt):null)}});ReactDOM.render(React.createElement(PortalSideNav_Component,null),document.getElementById("portal-nav-window"));