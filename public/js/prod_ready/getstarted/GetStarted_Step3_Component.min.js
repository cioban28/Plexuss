var styles={good:{border:"1px solid #24b26b"},bad:{border:"1px solid firebrick"}},GetStarted_Step3_Component=React.createClass({displayName:"GetStarted_Step3_Component",getInitialState:function(){return{save_route:"/get_started/save",get_route:"/get_started/getDataFor/step",step_num:null,is_valid:!1,is_sending:!1,back_route:null,next_route:null,save_btn_classes:"right btn submit-btn text-center",save_has_been_clicked:!1,user_info:null,errmsg:"",data:[],_degreeValid:!1,_majorValid:!1,_careerValid:!1,_schoolTypeValid:!1,_universityLocationValid:!1,_formValid:!1}},componentWillMount:function(){var e,t,a,s=(this.state.save_btn_classes,this);this.state.step_num=$(".gs_step").data("step"),this.state.get_route+=this.state.step_num,a=parseInt(this.state.step_num),e=a-1,t=a+1,this.state.back_route="/get_started/"+e,this.state.next_route="/get_started/",$.get(this.state.get_route,function(e){console.log("data: ",e),s.initUser(e)})},initUser:function(e){e&&_.isArray(e)&&e.length>0&&this.setState({data:e}),console.log("data after init",this.state)},save:function(e){var t=new FormData($("form")[0]),a=this.state,s=this;$(e.target).hasClass("disable")&&e.preventDefault(),a.save_has_been_clicked||(a.save_has_been_clicked=!0),this.formIsValid()&&(this.setState({is_sending:!0}),$.ajax({url:a.save_route,type:"POST",data:t,enctype:"multipart/form-data",contentType:!1,processData:!1}).done(function(e){e.msg?s.setState({errmsg:e.msg,is_sending:!1}):(e&&currentPercentage(e),wasRedirected()?(s.setState({is_sending:!1,errmsg:""}),$(document).trigger("saved")):window.location.href=a.next_route)}))},_validateForm:function(e,t){var a=(this.state,{});a[e]=t,console.log("obj",a),this.setState(a)},checkForEnterKey:function(){$(".submit-btn").on("keydown",function(e){13===e.which&&$(this).trigger("click")})},render:function(){var e="",t=this.state.user_info;t?t.degree_type||"":"",t?t.major_ids||"":"",t?t.profession_id||"":"",t?t.profession_name||"":"",t?t.school_type:"";return React.createElement("div",{className:"step_container"},React.createElement("div",{className:"row"},React.createElement("div",{className:"column small-12"},React.createElement("div",{className:"inner-col"},React.createElement("div",{className:"intro"},"What do you want to study and do?"),React.createElement("br",null),React.createElement("form",null,React.createElement("input",{type:"hidden",name:"step",value:this.state.step_num}),React.createElement(Degree,{validateForm:this._validateForm}),React.createElement(Majors,{validateForm:this._validateForm}),React.createElement(Career,{validateForm:this._validateForm}),React.createElement(SchoolType,{validateForm:this._validateForm}),React.createElement(UniversityLocation,{validateForm:this._validateForm}),React.createElement("div",{className:"submit-row clearfix"},React.createElement("div",{className:"left btn back-btn hide-for-small-only"},React.createElement("a",{href:this.state.back_route},"Go Back")),React.createElement("button",{tabIndex:"0",className:e,onClick:this.save,disabled:!this.state._formValid,onFocus:this.checkForEnterKey},"Next"),React.createElement("div",{className:"right text-center btn back-btn show-for-small-only"},React.createElement("a",{href:this.state.back_route},"Go Back"))))))),this.state.is_sending?React.createElement(Loader,null):null)}}),Degree=React.createClass({displayName:"Degree",getInitialState:function(){return{degree_options:null,degree_type:0,_degreeValid:!1,_degreeValidated:!1}},componentWillMount:function(){var e=this;$.get("/get_started/getDataFor/degree",function(t){e.buildDegree(t)})},buildDegree:function(e){var t=[];t.push(React.createElement("option",{key:-1,value:"",disabled:"disabled"},"Select one...")),_.each(e,function(e){t.push(React.createElement("option",{key:e.id,value:e.id},e.display_name))}),this.setState({degree_options:t})},_validate:function(e){var t=!1;e.target.value&&(t=!0),this.setState({_degreeValid:t,_degreeValidated:!0,focused:e.target.id,degree_type:e.target.value}),this.props.validateForm(e.target.value,t)},_unsetFocus:function(){this.setState({focused:""})},render:function(){var e={};return e="_degree"===this.state.focused?this.state._degreeValid?styles.good:styles.bad:!this.state._degreeValid&&this.state._degreeValidated?styles.bad:{},React.createElement("div",{className:"row"},React.createElement("div",{className:"columns small-12 medium-4 end"},React.createElement("label",{htmlFor:"_degree",className:"study-label"},"I would like to get a/an"),React.createElement("select",{id:"_degree",name:"degree",style:e,onChange:this._validate,onFocus:this._validate,onBlur:this._unsetFocus,value:this.state.degree_type},this.state.degree_options),!this.state._degreeValid&&this.state._degreeValidated?React.createElement("div",{className:"study-err"},"Please select a degree."):null))}}),Majors=React.createClass({displayName:"Majors",getInitialState:function(){return{findMajor_route:"/get_started/searchFor/major",majors:[],majors_active:!1,selected_majors:[],currently_scrolling:!1,hidden_major_inputs:[],major_val:"",major_tags:[],traversing:!1,_majorValid:!1,_majorValidated:!1,focused:"",major_id:null,major_name:"",showSide:!1}},componentWillMount:function(){document.addEventListener("click",this._domClick),document.addEventListener("keydown",this.keypressed)},componentWillReceiveProps:function(e){e.degree!==this.props.degree&&(this.state.selected_majors=e.majors.slice(),this.state.major_val=e.majors.slice().pop().name)},keypressed:function(e){var t=e.which||e.keyCode;if(this.state.majors.length>0){var a=$(".results-container");a.children();40===t?($(".result:first-child").hasClass("highlighted")||this.state.traversing?$(".result:not(:last-child).highlighted").removeClass("highlighted").next().addClass("highlighted"):($(".result.highlighted").removeClass("highlighted"),$(".result:first-child").addClass("highlighted"),this.state.traversing=!0),a.scrollTop($(".result.highlighted").offset().top-a.offset().top+a.scrollTop())):38===t?($(".result:not(:first-child).highlighted").removeClass("highlighted").prev().addClass("highlighted"),a.scrollTop($(".result.highlighted").offset().top-a.offset().top+a.scrollTop())):13===t&&$(".result.highlighted").trigger("click")}},_domClick:function(e){0===$(e.target).closest(".results-container").length&&this.setState({majors:[]})},_activate:function(e){this._validate(),this.setState({majors_active:!0,showSide:!0})},_deactivate:function(e){this.setState({majors_active:!1,showSide:!1})},_findMajor:function(e){var t=this,a=e.target.value;this.setState({major_val:a}),a&&$.post(this.state.findMajor_route,{input:a},function(e){console.log("majors: ",e),t.setState({majors:e})})},_addMajor:function(e,t){var a=this.state.selected_majors.slice();duplicate=_.findWhere(a,e),!duplicate&&a.length<4&&(a.push(e),this.state.selected_majors=a,this.state.major_val=""),this._validate(),this._deactivate()},_removeMajor:function(e,t){var a=this.state.selected_majors.slice();this.state.selected_majors=_.reject(a,e),this._validate(),this._deactivate()},clearInput:function(){this.setState({major_val:"",majors:[]}),this._deactivate()},_ifEmpty:function(e){this._notTraversing(),e.target.value||this._deactivate()},_notTraversing:function(){this.setState({traversing:!1,showSide:!1})},_update:function(e){this._findMajor(e)},_validate:function(){var e=!1;this.state.selected_majors.length>0&&(e=!0),this.state._majorValid=e,this.state._majorValidated=!0,this.state.focused="_major",this.props.validateForm("_major",e)},render:function(){var e={},t=this;return e="_degree"===this.state.focused?this.state._majorValid?styles.good:styles.bad:!this.state._majorValid&&this.state._majorValidated?styles.bad:{},React.createElement("div",{className:"row"},React.createElement("div",{className:"has-results columns small-12 medium-4"},this.state.selected_majors.map(function(e){return React.createElement("input",{key:e.id,type:"hidden",name:"chosen_majors[]",value:e.id,className:"is-input"})}),React.createElement("label",{htmlFor:"_major",className:"study-label"},"I would like to study"),React.createElement("div",{style:{position:"relative"}},React.createElement("input",{id:"_major",name:"major",type:"text",placeholder:"Enter major",style:e,onChange:this._update,onFocus:this._activate,onBlur:this._ifEmpty,value:this.state.major_val}),React.createElement("div",{className:"clear-input text-center",onClick:this.clearInput},"x"),this.state.majors_active&&this.state.majors.length>0?React.createElement("div",{className:"results-container stylish-scrollbar"},this.state.majors.map(function(e){return React.createElement("div",{className:"result",key:e.id,"data-id":e.id,onClick:t._addMajor.bind(this,e)},React.createElement("div",{className:"add"},"+"),React.createElement("div",{className:"majorName"},e.name))})):null,!this.state._majorValid&&this.state._majorValidated?React.createElement("div",{className:"study-err"},"Must choose at least one major. Max 4 majors."):null,4===this.state.selected_majors.length?React.createElement("div",{className:"study-warning"},"At max. Please remove a major in order to add another."):null)),this.state.showSide?React.createElement("div",{className:"columns small-12 medium-8"},React.createElement("div",null,"My Majors:"),React.createElement("div",null,React.createElement("small",null,"You may choose up to four")),React.createElement("div",{className:"tags clearfix"},this.state.selected_majors.map(function(e){return React.createElement("div",{className:"tag left",key:e.id,"data-id":""+e.id},e.name,React.createElement("div",{className:"remove"},React.createElement("div",null,React.createElement("div",{onClick:t._removeMajor.bind(this,e)},"x"))))})),React.createElement("div",null,"People also chose:"),React.createElement("div",null,"Nuclear Engineering"),React.createElement("div",null,"Electromechanical Engineering"),React.createElement("div",null,"Civil Engineering")):null)}}),Career=React.createClass({displayName:"Career",getInitialState:function(){return{findProfession_route:"/get_started/searchFor/career",careers:[],careers_active:!1,career_choice:"",hidden_career_input:null,career_id:"",i:0,traversing:!1,chose_from_list:!1,_careerValid:!1,_careerValidated:!1,focused:""}},componentWillMount:function(){document.addEventListener("click",this._domClick),document.addEventListener("keydown",this.keypressed)},componentWillReceiveProps:function(e){e.profession!==this.props.profession&&this.setState({career_choice:e.professionName,hidden_career_input:React.createElement("input",{name:"chosen_career",type:"hidden",value:e.profession,key:-1})})},_domClick:function(e){0===$(e.target).closest(".results-container").length&&this.setState({careers:[]})},keypressed:function(e){var t=e.which||e.keyCode;if(this.state.careers.length>0){var a=$(".results-container");a.children();40===t?($(".result:first-child").hasClass("highlighted")||this.state.traversing?$(".result:not(:last-child).highlighted").removeClass("highlighted").next().addClass("highlighted"):($(".result.highlighted").removeClass("highlighted"),$(".result:first-child").addClass("highlighted"),this.state.traversing=!0),a.scrollTop($(".result.highlighted").offset().top-a.offset().top+a.scrollTop())):38===t?($(".result:not(:first-child).highlighted").removeClass("highlighted").prev().addClass("highlighted"),a.scrollTop($(".result.highlighted").offset().top-a.offset().top+a.scrollTop())):13===t&&$(".result.highlighted").trigger("click")}},_notTraversing:function(){this._validate(),this.setState({traversing:!1})},findProfession:function(e){var t=this,a=e.target.value;a&&$.post(this.state.findProfession_route,{input:a},function(e){t.buildProfession(e)})},buildProfession:function(e){var t=[],a=this;e.length>0?_.each(e,function(e){t.push(React.createElement("div",{className:"result",key:e.id,"data-id":e.id,onClick:a.makeSelected},e.profession_name))}):t.push(React.createElement("div",{className:"result",key:-2,"data-id":-2},"No results")),this.setState({careers:t})},_activate:function(){this._validate(),this.setState({careers_active:!0})},_deactivate:function(){this._validate(),this.setState({careers_active:!1})},makeSelected:function(e){var t=$(e.target).data("id"),a=$(e.target).text();this.state.career_choice=a,this.state.hidden_career_input=React.createElement("input",{name:"chosen_career",type:"hidden",value:t,key:t}),this._deactivate()},_update:function(e){this.findProfession(e),this._notTraversing(),this.state.career_choice=e.target.value,value||(this.state.hidden_career_input=null,this._validate())},_validate:function(){var e=!1;this.state.career_choice&&(e=!0),this.setState({_careerValid:e,_careerValidated:!0,focused:"_career"}),this.props.validateForm("_career",e)},render:function(){var e={};return e="_universityLocation"===this.state.focused?this.state._careerValid?styles.good:styles.bad:!this.state._careerValid&&this.state._careerValidated?styles.bad:{},React.createElement("div",{className:"row"},React.createElement("div",{className:"columns small-12 medium-4 end"},React.createElement("label",{htmlFor:"_career",className:"study-label"},"My dream would be to one day work as a(n)"),React.createElement("div",{className:"has-results"},this.state.hidden_career_input,React.createElement("input",{id:"_career",name:"career",type:"text",placeholder:"Enter dream career",className:"is-input",style:e,onFocus:this._activate,value:this.state.career_choice,onChange:this._update,onBlur:this._notTraversing}),this.state.careers_active&&this.state.careers.length>0?React.createElement("div",{className:"results-container stylish-scrollbar"},this.state.careers):null,!this.state._careerValid&&this.state._careerValidated?React.createElement("div",{className:"study-err"},"Career option cannot be empty."):null)))}}),SchoolType=React.createClass({displayName:"SchoolType",getInitialState:function(){return{school_options:null,school_type:-1,types:["Online_Only","Campus_Only","Both"],_schooltypeValid:!1,_schooltypeValidated:!1,focused:""}},_update:function(e){this.state.school_type=e.target.value,this._validate()},_validate:function(){var e=!1;this.state.school_type>-1&&(e=!0),this.setState({_schooltypeValid:e,_schooltypeValidated:!0,focused:"_schoolType"}),this.props.validateForm("_schoolType",e)},render:function(){var e={};return e="_universityLocation"===this.state.focused?this.state._schooltypeValid?styles.good:styles.bad:!this.state._schooltypeValid&&this.state._schooltypeValidated?styles.bad:{},React.createElement("div",{className:"row"},React.createElement("div",{className:"row-3 columns small-12 medium-4 end"},React.createElement("label",{htmlFor:"_schoolType",className:"study-label"},"I am interested in ",React.createElement(Tip,null)),React.createElement("select",{id:"_schoolType",name:"school_type",style:e,onChange:this._update,onFocus:this._validate,onBlur:this._validate,value:this.state.school_type},React.createElement("option",{key:-1,value:"",disabled:"disabled"},"Select one..."),this.state.types.map(function(e,t){var a=e.split("_").join(" ");return React.createElement("option",{key:e,value:t},a)})),!this.state._schooltypeValid&&this.state._schooltypeValidated?React.createElement("div",{className:"study-err"},"School type cannot be left empty."):null))}}),UniversityLocation=React.createClass({displayName:"UniversityLocation",getInitialState:function(){return{countries_ui:[],countries:[],university_location:"",selected_countries:[],recommended_countries:[{id:1,country_name:"Netherlands"},{id:2,country_name:"France"},{id:3,country_name:"Germany"}],showSide:!1,_locationValid:!1,_locationValidated:!1,focused:""}},componentWillMount:function(){this._getCountries()},_getCountries:function(){var e=this;$.get("/get_started/getDataFor/country",function(t){e._buildCountries(t)})},_buildCountries:function(e){var t=[],a=[];e.length>0&&(this.state.countries=e,t.push(React.createElement("option",{key:0,value:"",disabled:"disabled"},"Select one...")),_.each(e,function(e){1===e.id&&(a=[e]),t.push(React.createElement("option",{key:e.id,value:e.id},e.country_name))})),this.setState({countries_ui:t,selected_countries:a})},_update:function(e){var t=e.target.value,a=this.state.selected_countries.slice(),s=_.findWhere(this.state.countries,{id:+t}),i=null;i=_.findWhere(a,s),i||a.push(s),this.state.university_location=e.target.value,this.state.selected_countries=a,this._validate()},_showSide:function(){this.state.showSide=!0,this._validate()},_hideSide:function(){this.setState.showSide=!1,this._validate()},_validate:function(){var e=!1;this.state.selected_countries.length>0&&(e=!0),this.setState({_locationValid:e,_locationValidated:!0,focused:"_universityLocation"}),this.props.validateForm("_universityLocation",e)},_removeCountry:function(e){var t=_.findWhere(this.state.selected_countries,e);t&&(this.state.selected_countries=_.reject(this.state.selected_countries,e)),this._validate()},render:function(){var e=this,t={};return t="_universityLocation"===this.state.focused?this.state._locationValid?styles.good:styles.bad:!this.state._locationValid&&this.state._locationValidated?styles.bad:{},React.createElement("div",{className:"row"},React.createElement("div",{className:"columns small-12 medium-4"},React.createElement("label",{htmlFor:"_universityLocation",className:"study-label"},"I'm interested in Universities in these countries"),React.createElement("select",{id:"_universityLocation",name:"university_location",onChange:this._update,onFocus:this._showSide,onBlur:this._hideSide,style:t,value:this.state.university_location},this.state.countries_ui),!this.state._locationValid&&this.state._locationValidated?React.createElement("div",{className:"study-err"},"You must select at least one country."):null,React.createElement("div",{className:"tags clearfix"},this.state.selected_countries.map(function(t){return React.createElement(Country,{key:t.country_name,country:t,remove:e._removeCountry})}))),this.state.showSide?React.createElement("div",{className:"columns small-12 medium-8"},React.createElement("div",null,"People also chose:"),this.state.recommended_countries.map(function(e){return React.createElement(Country,{key:e.country_name,country:e})})):null)}}),Country=React.createClass({displayName:"Country",_remove:function(){this.props.remove(this.props.country)},render:function(){var e=this.props.country;return React.createElement("div",{className:"tag left"},e.country_name,React.createElement("div",{className:"remove",onClick:this._remove},"x"))}}),Tip=React.createClass({displayName:"Tip",getInitialState:function(){return{is_hovering:!1}},showTip:function(){this.setState({is_hovering:!0})},hideTip:function(){this.setState({is_hovering:!1})},render:function(){return React.createElement("div",{className:"school-tip",onMouseEnter:this.showTip,onMouseLeave:this.hideTip,onTouchStart:this.showTip,onTouchEnd:this.hideTip},"?",this.state.is_hovering?React.createElement("div",{className:"tip-container"},React.createElement("div",null,"Types of Schools"),React.createElement("div",null,"If you are interested in Online schools please select Online Only from the drop down."),React.createElement("div",{className:"arrow"})):null)}}),Loader=React.createClass({displayName:"Loader",render:function(){return React.createElement("div",{className:"gs-loader"},React.createElement("svg",{width:"70",height:"20"},React.createElement("rect",{width:"20",height:"20",x:"0",y:"0",rx:"3",ry:"3"},React.createElement("animate",{attributeName:"width",values:"0;20;20;20;0",dur:"1000ms",repeatCount:"indefinite"}),React.createElement("animate",{attributeName:"height",values:"0;20;20;20;0",dur:"1000ms",repeatCount:"indefinite"}),React.createElement("animate",{attributeName:"x",values:"10;0;0;0;10",dur:"1000ms",repeatCount:"indefinite"}),React.createElement("animate",{attributeName:"y",values:"10;0;0;0;10",dur:"1000ms",repeatCount:"indefinite"})),React.createElement("rect",{width:"20",height:"20",x:"25",y:"0",rx:"3",ry:"3"},React.createElement("animate",{attributeName:"width",values:"0;20;20;20;0",begin:"200ms",dur:"1000ms",repeatCount:"indefinite"}),React.createElement("animate",{attributeName:"height",values:"0;20;20;20;0",begin:"200ms",dur:"1000ms",repeatCount:"indefinite"}),React.createElement("animate",{attributeName:"x",values:"35;25;25;25;35",begin:"200ms",dur:"1000ms",repeatCount:"indefinite"}),React.createElement("animate",{attributeName:"y",values:"10;0;0;0;10",begin:"200ms",dur:"1000ms",repeatCount:"indefinite"})),React.createElement("rect",{width:"20",height:"20",x:"50",y:"0",rx:"3",ry:"3"},React.createElement("animate",{attributeName:"width",values:"0;20;20;20;0",begin:"400ms",dur:"1000ms",repeatCount:"indefinite"}),React.createElement("animate",{attributeName:"height",values:"0;20;20;20;0",begin:"400ms",dur:"1000ms",repeatCount:"indefinite"}),React.createElement("animate",{attributeName:"x",values:"60;50;50;50;60",begin:"400ms",dur:"1000ms",repeatCount:"indefinite"}),React.createElement("animate",{attributeName:"y",values:"10;0;0;0;10",begin:"400ms",dur:"1000ms",repeatCount:"indefinite"}))))}});ReactDOM.render(React.createElement(GetStarted_Step3_Component,null),document.getElementById("get_started_step3"));