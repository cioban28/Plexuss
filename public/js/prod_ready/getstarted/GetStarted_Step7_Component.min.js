(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";function wasRedirected(){return JSON.parse(sessionStorage.getItem("college_id"))}function currentPercentage(e){return e&&(percentage=e),percentage}function justInquired(e){var t=null,a='<span class="check">&#x02713;</span>';_.each(e,function(e){t=$('.recruit-me-pls[data-id="'+e+'"]'),t.length>0&&t.parent().html(a)})}var percentage;$(document).on("click",".recruit-me-pls",function(e){e.preventDefault();var t=$(this).data("id"),a=$("#recruitmeModal");$.ajax({url:"/ajax/recruitme/"+t,type:"GET",headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}).done(function(e){a.html(e),a.foundation("reveal","open")})});var GetStarted_Step7_Component=React.createClass({displayName:"GetStarted_Step7_Component",getInitialState:function(){return{save_route:"/get_started/save",get_route:"/get_started/getDataFor/step",step_num:null,is_valid:!1,is_sending:!1,back_route:null,next_route:null,save_btn_classes:"right btn submit-btn text-center",save_has_been_clicked:!1,sections:["National Universities","Liberal Arts Colleges","Community Colleges","Specialty Schools - ARTS","Specialty Schools - MUSIC","International Colleges","Specialty Schools - ENGINEERING"],carousels:[],carousel_ui:null,specialty_tabs:[{name:"ENGINEERING",active:!1},{name:"MUSIC",active:!1},{name:"ARTS",active:!0}]}},componentWillMount:function(){var e,t,a,s=(this.state.save_btn_classes,null),n=[];fbq("track","GetStarted_Step7_CollegeRecruitment_Page"),this.state.step_num=$(".gs_step").data("step"),this.state.get_route+=this.state.step_num,a=parseInt(this.state.step_num),e=a-1,t=a+1,this.state.back_route="/get_started/"+e,this.state.next_route="/get_started/",s=function(e){this.section=e||null,this.schools=[]};for(var i=0;i<this.state.sections.length;i++)n.push(new s(this.state.sections[i]));this.state.carousels=n,this.buildCarousels()},buildCarousels:function(){for(var e=this.state.carousels.slice(),t=[],a=!1,s=null,n=this.getActiveTab(),i=0;i<e.length;i++)a=!1,s=null,e[i].section.indexOf("Specialty Schools")>-1?e[i].section==="Specialty Schools - "+n.name&&(a=!0,s=this.state.specialty_tabs,t.push(React.createElement(College_Carousel,{key:i,name:e[i].section,route:this.state.get_route,hasOptions:a,tabs:s,changeTab:this.changeTab}))):t.push(React.createElement(College_Carousel,{key:i,name:e[i].section,route:this.state.get_route}));this.setState({carousel_ui:t})},save:function(){var e=this;this.setState({is_sending:!0}),$.ajax({url:"/get_started/getRecruitedStepDone",headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},data:{done:1},type:"POST"}).done(function(t){window.location.href=e.state.next_route})},getActiveTab:function(){return _.findWhere(this.state.specialty_tabs.slice(),{active:!0})},getTab:function(e){return _.findWhere(this.state.specialty_tabs.slice(),{name:e})},changeTab:function(e){var t=$(e.target).text(),a=this.getActiveTab(),s=null;this.state.specialty_tabs.slice();t&&t!==a.name&&(a.active=!1,s=this.getTab(t),s&&(s.active=!0,this.buildCarousels()))},getName:function(){var e=this.props.name.split("-");return e.length>1?e[1].trim():this.props.name},render:function(){return React.createElement("div",{className:"step-container step6-head"},React.createElement("div",{className:"row"},React.createElement("div",{className:"column small-12 medium-7 large-6 medium-centered"},React.createElement("h3",null,"Congrats, you can now be recruited by colleges!")),React.createElement("div",{className:"column small-12 medium-3 medium-offset-9 text-right hide-for-small-only"},"Select the colleges that you are interested in")),React.createElement("div",{className:"row"},this.state.carousel_ui),React.createElement("div",{className:"row"},React.createElement("div",{className:"column small-12"},React.createElement("div",{className:"page-nav text-center"},React.createElement("div",null,React.createElement("a",{href:this.state.back_route},"Back")),React.createElement("div",{onClick:this.save},"Continue"),React.createElement("div",null,React.createElement("a",{href:"",onClick:this.save},"Skip"))))),this.state.is_sending?React.createElement(Loader,null):null)}}),College_Carousel=React.createClass({displayName:"College_Carousel",getInitialState:function(){return{owlItems:[],inquiried:!1,route:null,skip:0,take:10,schools:[],just_added_schools:[],owl:null,initDone:!1,last_position:0}},componentWillMount:function(){this.state.route=this.buildRoute(),this.state.owl="."+this.modName()+"_owl",this.getOwlItems()},buildRoute:function(){var e=this.props.name,t="";return e.indexOf("Specialty")>-1&&(t=e.split(" ").pop()),this.props.route+"_"+this.props.name.split(" ")[0].toLowerCase()+t+"_"+this.state.skip+"_"+this.state.take},getOwlItems:function(){var e=this;this.state.route=this.buildRoute(),$.ajax({url:this.state.route,type:"GET",headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}).done(function(t){t&&t.length>0&&(e.increaseSkip(),e.addSchools(t))})},increaseSkip:function(){this.state.skip+=this.state.take},addSchools:function(e){var t=this,a=this.state.schools.slice(),s=[];_.each(e,function(e){a.push(e),s.push(e)}),t.state.schools=a,t.state.just_added_schools=s,t.state.initDone?t.addToOwl(e):(t.initOwlItems(),t.initOwl())},addToOwl:function(e){var t="",a=this,s="",n="";e.length>0&&_.each(e,function(e){n=e.logo_url||"default-missing-college-logo.png",s="https://s3-us-west-2.amazonaws.com/asset.plexuss.com/college/logos/"+n,t="",t+='<div class="item text-center">',t+='<div class="logo" style="background-image: url('+s+')"></div>',t+='<div class="name">'+e.school_name.substr(0,20)+"...</div>",t+="<div>",t+='<a href="" class="recruit-me-pls" data-id="'+e.id+'">',t+='<div class="plus">+</div>',t+="</a>",t+="</div>",t+="</div>",$(a.state.owl).trigger("add.owl.carousel",[t]).trigger("refresh.owl.carousel")})},initOwl:function(){var e=this;$(this.state.owl).owlCarousel({loop:!1,margin:10,responsive:{0:{items:1},600:{items:3},1e3:{items:6}},onChanged:function(t){this._current&&this._current%3===0&&this._current>e.state.last_position&&(e.getOwlItems(),e.state.last_position=this._current)}}),this.state.initDone=!0},initOwlItems:function(){var e=[],t=this,a=t.state.schools,s="",n="";_.each(a,function(t){n=t.logo_url||"default-missing-college-logo.png",s="https://s3-us-west-2.amazonaws.com/asset.plexuss.com/college/logos/"+n,e.push(React.createElement(OwlItem,{key:t.id,logo:s,name:t.school_name,school_id:t.id}))}),t.setState({owlItems:e})},modName:function(){return this.props.name.split(" ").join("_").toLowerCase()},render:function(){var e="owl-carousel "+this.modName()+"_owl",t=React.createElement(BasicHeader,{name:this.props.name}),a=React.createElement(Small_Loader,{size:"sm"});return this.props.hasOptions&&(t=React.createElement(OptionsHeader,{name:this.props.name.split("-")[0],tabs:this.props.tabs,changeTab:this.props.changeTab})),this.state.owlItems&&this.state.owlItems.length>0&&(a=React.createElement(Carousel,{owlItems:this.state.owlItems,owl_name:e,noMoreItems:this.state.no_more_items,visibleCount:this.state.items_visibile,diff:this.state.current_index_minus_total_items})),React.createElement("div",{className:"column small-12"},React.createElement("div",{className:"carousel-container"},t,a))}}),Carousel=React.createClass({displayName:"Carousel",getInitialState:function(){return{current:0,total_items:10,diff:10,at_beginning:!1,at_end:!1}},componentDidMount:function(){var e=this.props.owl_name.split(" ")[1],t=$("."+e),a=this,s=0,n=0,i=0;t.on("changed.owl.carousel",function(e){s=e.relatedTarget._current,n=e.relatedTarget._items.length,i=e.relatedTarget.settings.items,n-s===i?a.setState({at_end:!0}):a.state.at_end&&a.setState({at_end:!1}),s?a.state.at_beginning&&a.setState({at_beginning:!1}):a.setState({at_beginning:!0})})},render:function(){return React.createElement("div",{className:"gs-carousel"},React.createElement(Arrow,{direction:"a-left"}),React.createElement("div",{className:"owl-container"},React.createElement("div",{className:this.props.owl_name},this.props.owlItems)),React.createElement(Arrow,{direction:"a-right"}))}}),OptionsHeader=React.createClass({displayName:"OptionsHeader",getInitialState:function(){return{tab_ui:null}},componentWillMount:function(){this.props.tabs&&this.props.tabs.length>0&&this.buildTabs()},componentWillReceiveProps:function(e){e.activeName!==this.props.activeName&&this.buildTabs()},buildTabs:function(){var e=this.props,t=e.tabs,a=[],s="";_.each(t,function(t,n){s=t.active?"o-btn right active":"o-btn right",a.push(React.createElement("div",{className:s,key:n,onClick:e.changeTab},t.name))}),this.setState({tab_ui:a})},render:function(){return React.createElement("div",{className:"carousel-name w-options"},React.createElement("div",null,this.props.name),React.createElement("div",{className:"clearfix"},this.state.tab_ui))}}),BasicHeader=React.createClass({displayName:"BasicHeader",render:function(){return React.createElement("div",{className:"carousel-name"},React.createElement("div",null,this.props.name))}}),Arrow=React.createClass({displayName:"Arrow",move:function(e){var t=$(e.target),a=t.parent().hasClass("a-left"),s=t.closest(".gs-carousel").find(".owl-carousel");a?s.trigger("prev.owl.carousel"):s.trigger("next.owl.carousel")},render:function(){var e="arrow-container hide-for-small-only "+this.props.direction;return React.createElement("div",{className:e,onClick:this.move},React.createElement("div",{className:"arrow"}),React.createElement("div",{className:"arrow shadow"}))}}),OwlItem=React.createClass({displayName:"OwlItem",getInitialState:function(){return{school:null}},componentWillMount:function(){var e={inquiried:!1};this.setState({school:e})},madeInquirie:function(e){e.preventDefault()},render:function(){var e=this.props,t={backgroundImage:"url("+e.logo+")"};return React.createElement("div",{className:"item text-center"},React.createElement("div",{className:"logo",style:t}),React.createElement("div",{className:"name"},e.name.substr(0,20)+"..."),React.createElement(Recruit_Btn,{inqd:this.state.school.inquiried,madeInq:this.madeInquirie,school_id:this.props.school_id}))}}),Recruit_Btn=React.createClass({displayName:"Recruit_Btn",render:function(){return React.createElement("div",null,this.props.inqd?[React.createElement("span",{className:"check",key:-1},"✓")]:React.createElement("a",{href:"",className:"recruit-me-pls","data-id":this.props.school_id},React.createElement("div",{className:"plus"},"+")))}}),Small_Loader=React.createClass({displayName:"Small_Loader",render:function(){return React.createElement("div",{className:"small-loader"},React.createElement(Loader,{size:"sm"}))}}),Loader=React.createClass({displayName:"Loader",render:function(){var e="gs-loader ";return this.props.size&&(e+=this.props.size),React.createElement("div",{className:e},React.createElement("svg",{width:"70",height:"20"},React.createElement("rect",{width:"20",height:"20",x:"0",y:"0",rx:"3",ry:"3"},React.createElement("animate",{attributeName:"width",values:"0;20;20;20;0",dur:"1000ms",repeatCount:"indefinite"}),React.createElement("animate",{attributeName:"height",values:"0;20;20;20;0",dur:"1000ms",repeatCount:"indefinite"}),React.createElement("animate",{attributeName:"x",values:"10;0;0;0;10",dur:"1000ms",repeatCount:"indefinite"}),React.createElement("animate",{attributeName:"y",values:"10;0;0;0;10",dur:"1000ms",repeatCount:"indefinite"})),React.createElement("rect",{width:"20",height:"20",x:"25",y:"0",rx:"3",ry:"3"},React.createElement("animate",{attributeName:"width",values:"0;20;20;20;0",begin:"200ms",dur:"1000ms",repeatCount:"indefinite"}),React.createElement("animate",{attributeName:"height",values:"0;20;20;20;0",begin:"200ms",dur:"1000ms",repeatCount:"indefinite"}),React.createElement("animate",{attributeName:"x",values:"35;25;25;25;35",begin:"200ms",dur:"1000ms",repeatCount:"indefinite"}),React.createElement("animate",{attributeName:"y",values:"10;0;0;0;10",begin:"200ms",dur:"1000ms",repeatCount:"indefinite"})),React.createElement("rect",{width:"20",height:"20",x:"50",y:"0",rx:"3",ry:"3"},React.createElement("animate",{attributeName:"width",values:"0;20;20;20;0",begin:"400ms",dur:"1000ms",repeatCount:"indefinite"}),React.createElement("animate",{attributeName:"height",values:"0;20;20;20;0",begin:"400ms",dur:"1000ms",repeatCount:"indefinite"}),React.createElement("animate",{attributeName:"x",values:"60;50;50;50;60",begin:"400ms",dur:"1000ms",repeatCount:"indefinite"}),React.createElement("animate",{attributeName:"y",values:"10;0;0;0;10",begin:"400ms",dur:"1000ms",repeatCount:"indefinite"}))))}});ReactDOM.render(React.createElement(GetStarted_Step7_Component,null),document.getElementById("get_started_step7"));
},{}]},{},[1]);
