(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";function _defineProperty(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function wasRedirected(){return JSON.parse(sessionStorage.getItem("college_id"))}function currentPercentage(e){return e&&(percentage=e),percentage}var _createClass=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),percentage,GetStarted_Step1_Component=React.createClass({displayName:"GetStarted_Step1_Component",getInitialState:function(){return{save_route:"/get_started/save",get_route:"/get_started/getDataFor/step",step_num:null,is_valid:!1,is_sending:!1,back_route:null,next_route:null,save_btn_classes:"right btn submit-btn text-center",save_has_been_clicked:!1,user_info:null,weighted_gpa:"",unweighted_gpa:"",bdayPending:!0,currentView:"birthday"}},componentWillMount:function(){var e,t,a,n=(this.state.save_btn_classes,this);fbq("track","GetStarted_Step2_PlannedStart_Page"),this.state.step_num=$(".gs_step").data("step"),this.state.get_route+=this.state.step_num,a=parseInt(this.state.step_num),e=a-1,t=a+1,this.state.back_route="/get_started/"+e,this.state.next_route="/get_started/",$.ajax({url:this.state.get_route,type:"GET",headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}).done(function(e){n.initUser(e),n.validateForm()})},initUser:function(e){var t={};if(t.user_info=e,e.weighted_gpa&&(t.weighted_gpa=e.weighted_gpa),e.hs_gpa?t.unweighted_gpa=e.hs_gpa:e.overall_gpa&&(t.unweighted_gpa=e.overall_gpa),e.birth_date){var a=e.birth_date.split("-");t.year=a[0],t.month=a[1],t.day=a[2]}this.setState({bdayPending:!1}),this.setState(t)},save:function(e){var t=new FormData($("form")[0]),a=this.state,n=this;$(e.target).hasClass("disable")&&e.preventDefault(),a.save_has_been_clicked||(a.save_has_been_clicked=!0),this.validateForm()&&(this.setState({is_sending:!0}),$.ajax({url:a.save_route,type:"POST",data:t,enctype:"multipart/form-data",contentType:!1,processData:!1,headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}).done(function(e){amplitude.getInstance().logEvent("step2_completed",{content:"GPA"}),e&&currentPercentage(e),wasRedirected()?(n.setState({is_sending:!1}),$(document).trigger("saved")):window.location.href=a.next_route}))},formIsValid:function(){var e=$("form .is-input"),t=!0,a=this;return $.each(e,function(){if(!$(this).val())return t=!1,a.setState({is_valid:t}),!1}),a.setState({is_valid:t}),t},validateForm:function(){var e=["unweighted_gpa","weighted_gpa"],t=this,a=!0,n=!0;return _.each(e,function(e){var i=parseFloat(t.state[e]);switch(e){case"unweighted_gpa":a=!!(i&&.1<=i&&i<=4);break;case"weighted_gpa":n=!(i&&!(.1<=i&&i<=5))}}),this.setState({is_valid:n&&a,weighted_gpa_valid:n,unweighted_gpa_valid:a}),n&&a},onChangeGPA:function(e){var t=e.target.value,a=e.target.name,n={};n[a]=t,this.setState(n,this.validateForm)},makeSaveActive:function(e){this.validateForm()&&this.setState({is_valid:!0})},checkForEnterKey:function(){$(".submit-btn").on("keydown",function(e){13===e.which&&$(this).trigger("click")})},render:function(){var e=this,t="",a=this.state.user_info,n=(a?a.planned_start_term||"":"",a?a.planned_start_yr||"":"",this.state.weighted_gpa_valid?"#ccc":"firebrick"),i=this.state.unweighted_gpa_valid?"#ccc":"firebrick",r=this.state.currentView,s=!1;return 0==this.state.bdayPending&&this.state.day&&this.state.month&&this.state.year&&(r="gpa",s=!0),t=this.state.is_valid?"right btn submit-btn text-center":"right btn submit-btn text-center disable",React.createElement("div",{className:"step_container"},React.createElement("div",{className:"row"},1==this.state.bdayPending&&React.createElement("div",{className:"spinLoader"}),"birthday"==r&&0==this.state.bdayPending&&React.createElement(BirthdayFields,{day:this.state.day||"",month:this.state.month||"",year:this.state.year||"",save_route:this.state.save_route,go_next_route:function(){return e.setState({currentView:"gpa"})},back_route:this.state.back_route}),"gpa"==r&&0==this.state.bdayPending&&React.createElement("div",{className:"column small-12 medium-6 large-7"},React.createElement("div",{className:"intro"},"Enter your (estimated) GPA so far (you can change this later)"),React.createElement("br",null),React.createElement("br",null),React.createElement("form",null,React.createElement("input",{type:"hidden",name:"step",value:this.state.step_num}),React.createElement("div",null,React.createElement("div",{style:{display:"flex",justifyContent:"space-between",width:"70%"}},React.createElement("label",{"for":"unweighted_gpa"},"Unweighted GPA *",React.createElement(ToolTip,null,React.createElement("div",{className:"tiptitle"},"Unweighted GPA:"),"Measured on a scale of 0 to 4.0 and do not take the difficulty of courses into account. An A in a low-level class and an A received in an AP class both translate into 4.0s.")),React.createElement("input",{name:"unweighted_gpa",value:this.state.unweighted_gpa,onChange:this.onChangeGPA,style:{width:"35%",textAlign:"center",border:"1px solid "+i},type:"number",step:"0.01",placeholder:"0.10 - 4.00"})),React.createElement("br",null),React.createElement("div",{style:{display:"flex",justifyContent:"space-between",width:"70%"}},React.createElement("label",{"for":"weighted_gpa"},"Weighted GPA",React.createElement(ToolTip,null,React.createElement("div",{className:"tiptitle"},"Weighted GPA:"),"Typically measured on a scale of 0 to 5.0 and takes the difficulty of courses into account. An A in an AP class would be given a 5.0, while an A received in a low-level class would be assigned a 4.0.")),React.createElement("input",{name:"weighted_gpa",value:this.state.weighted_gpa,onChange:this.onChangeGPA,style:{width:"35%",textAlign:"center",border:"1px solid "+n},type:"number",step:"0.01",placeholder:"0.10 - 5.00"}))),!this.state.is_valid&&this.state.save_has_been_clicked?React.createElement("div",{className:"err"},React.createElement("small",null,"Fields cannot be empty.")):null,React.createElement("div",{className:"submit-row clearfix"},React.createElement("div",{className:"left btn back-btn hide-for-small-only",style:{color:"#9be3ba"},onClick:function(){s?window.location.href="/get_started/1":e.setState({currentView:"birthday"})}},"Go Back"),React.createElement("div",{tabIndex:"0",className:t,onClick:this.save,onFocus:this.checkForEnterKey},"Next"),React.createElement("div",{className:"right text-center btn back-btn show-for-small-only",style:{color:"#9be3ba"},onClick:function(){return e.setState({currentView:"birthday"})}},"Go Back"))))),this.state.is_sending?React.createElement(Loader,null):null)}}),ToolTip=function(e){function t(e){_classCallCheck(this,t);var a=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={hovering:!1},a}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){var e=this;this.tt.addEventListener("mouseenter",function(){e.setState({hovering:!0})}),this.tt.addEventListener("mouseleave",function(){e.setState({hovering:!1})})}},{key:"render",value:function(){var e=this,t=this.state.hovering;return React.createElement("div",{className:"_Tooltip"},React.createElement("div",{className:"tooltip",ref:function(t){return e.tt=t}},"?"),t&&React.createElement("div",{className:"tip"},this.props.children))}}]),t}(React.Component),BirthdayFields=function(e){function t(e){_classCallCheck(this,t);var a=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={month:e.month||"",day:e.day||"",year:e.year||"",is_sending:!1,timeout:null},a._onChange=a._onChange.bind(a),a._saveBirthday=a._saveBirthday.bind(a),a._validateForm=a._validateForm.bind(a),a}return _inherits(t,e),_createClass(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.month,a=e.day,n=e.year,i=this.props,r=i.month,s=i.day,l=i.year;r===t&&s===a&&l===n||this.setState({day:a,month:t,year:n})}},{key:"_onChange",value:function(e){var t=this,a=e.target.name.replace("birth_",""),n=e.target.value,i=null;if(clearTimeout(this.state.timeout),this.setState(_defineProperty({},a,n)),"month"==a&&(i=this.dInput),"day"==a&&(i=this.yInput),i){var r=window.setTimeout(function(){clearTimeout(t.state.timeout),i.focus()},900);this.setState({timeout:r})}}},{key:"_validateForm",value:function(){var e=this,t=["month","day","year"],a=this.state,n=a.month,i=a.day,r=a.year,s="",l="",c=!1,o=!1;return""===n||""===i||""===r?c:(t.forEach(function(t,a){l+=e.state[t],2!==a&&(l+="/")}),o=/^(0[1-9]|1[0-2]|[1-9])\/(|[1-9]|0[1-9]|1\d|2\d|3[01])\/(19|20)\d{2}$/.test(l),o&&(s=moment().diff(l,"years"),s>=13&&(c=!0)),c)}},{key:"_saveBirthday",value:function(){var e=this,t=this.props,a=t.save_route,n=t.go_next_route,i=this.state,r=i.month,s=i.day,l=i.year;this.setState({is_sending:!0}),$.ajax({url:a,type:"POST",data:{step:"birthday",month:r,day:s,year:l},headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}).done(function(t){e.setState({is_sending:!1}),n()})}},{key:"render",value:function(){var e=this,t=this.props.back_route,a=this.state,n=a.month,i=a.day,r=a.year,s=this._validateForm(),l="";return l=s?"right btn submit-btn text-center":"right btn submit-btn text-center disable",React.createElement("div",{className:"column small-12 medium-6 large-7 birthday-step-container"},React.createElement("div",{className:"intro",style:{textAlign:"center"}},"Please enter your birthday"),React.createElement("div",{className:"birthday-input-container"},React.createElement("input",{name:"birth_month",value:n,onChange:this._onChange,type:"number",placeholder:"M",ref:function(t){return e.mInput=t}}),React.createElement("span",null,"/"),React.createElement("input",{name:"birth_day",value:i,onChange:this._onChange,type:"number",placeholder:"D",ref:function(t){return e.dInput=t}}),React.createElement("span",null,"/"),React.createElement("input",{name:"birth_year",value:r,onChange:this._onChange,type:"number",placeholder:"Year",ref:function(t){return e.yInput=t}})),!s&&React.createElement("small",{className:"birthday-error-message"},"Please insert a valid date (MM/DD/YYYY). Must be 13 years or older."),React.createElement("div",{className:"submit-row clearfix"},React.createElement("div",{className:"left btn back-btn hide-for-small-only"},React.createElement("a",{href:t},"Go Back")),React.createElement("div",{tabIndex:"0",className:l,onClick:this._saveBirthday},"Next"),React.createElement("div",{className:"right text-center btn back-btn show-for-small-only"},React.createElement("a",{href:t},"Go Back"))),this.state.is_sending?React.createElement(Loader,null):null)}}]),t}(React.Component),SelectInput=React.createClass({displayName:"SelectInput",getInitialState:function(){return{options:null,valu:"",is_hovering:!1}},componentWillMount:function(){this.state.options=this.getSelectOptions()},componentWillReceiveProps:function(e){e.val!==this.props.val&&this.setState({valu:e.val})},getSelectOptions:function(){var e=[],t=null,a=null;if("term"===this.props.name)e.push(React.createElement("option",{key:0,value:""},"Select one...")),e.push(React.createElement("option",{key:1,value:"spring"},"Spring")),e.push(React.createElement("option",{key:2,value:"fall"},"Fall"));else for(t=moment().year(),moment().month()>7&&(t+=1),a=t+10,e.push(React.createElement("option",{key:-1,value:""},"Select one...")),i=t;i<a;i++)e.push(React.createElement("option",{key:i,value:i},i));return e},update:function(e){this.props.isValid(),this.setState({valu:e.target.value})},showTip:function(){this.setState({is_hovering:!0})},hideTip:function(){this.setState({is_hovering:!1})},render:function(){var e=this.props.name+"_tip";return React.createElement("div",{className:"form-container"},React.createElement("div",{className:"f-label capitalize smllr"},React.createElement("label",{className:"has-ttip"},React.createElement("div",null,this.props.name),React.createElement("div",{className:e,onMouseEnter:this.showTip,onMouseLeave:this.hideTip,onTouchStart:this.showTip,onTouchEnd:this.hideTip},React.createElement("span",null,"term"===this.props.name?"?":""),"term"===this.props.name&&this.state.is_hovering?React.createElement(TermTip,null):null))),React.createElement("div",{className:"f-input"},React.createElement("select",{name:this.props.name,className:"is-input",onChange:this.update,value:this.state.valu},this.state.options)))}}),TermTip=React.createClass({displayName:"TermTip",render:function(){return React.createElement("div",{className:"term-tip-container"},React.createElement("div",null,React.createElement("b",null,"For colleges and universities using the Semester System")),React.createElement("ul",null,React.createElement("li",null,"Fall Term starts in late summer, around mid-August"),React.createElement("li",null,"Spring Term starts in late winter, around mid-January")),React.createElement("div",null,React.createElement("b",null,"For colleges and universities using the Quarter System")),React.createElement("ul",null,React.createElement("li",null,"Fall Term starts in late summer or early autumn, around mid-September"),React.createElement("li",null,"Winter Term starts in mid-winter, around early-January"),React.createElement("li",null,"Spring Term starts in late winter or early spring, around mid-March")),React.createElement("div",null,React.createElement("em",null,"Term start-dates depend on the college or university, though there are some general guidelines. Most students begin during the Fall Term.")),React.createElement("div",{className:"arrow"}))}}),Loader=React.createClass({displayName:"Loader",render:function(){return React.createElement("div",{className:"gs-loader"},React.createElement("svg",{width:"70",height:"20"},React.createElement("rect",{width:"20",height:"20",x:"0",y:"0",rx:"3",ry:"3"},React.createElement("animate",{attributeName:"width",values:"0;20;20;20;0",dur:"1000ms",repeatCount:"indefinite"}),React.createElement("animate",{attributeName:"height",values:"0;20;20;20;0",dur:"1000ms",repeatCount:"indefinite"}),React.createElement("animate",{attributeName:"x",values:"10;0;0;0;10",dur:"1000ms",repeatCount:"indefinite"}),React.createElement("animate",{attributeName:"y",values:"10;0;0;0;10",dur:"1000ms",repeatCount:"indefinite"})),React.createElement("rect",{width:"20",height:"20",x:"25",y:"0",rx:"3",ry:"3"},React.createElement("animate",{attributeName:"width",values:"0;20;20;20;0",begin:"200ms",dur:"1000ms",repeatCount:"indefinite"}),React.createElement("animate",{attributeName:"height",values:"0;20;20;20;0",begin:"200ms",dur:"1000ms",repeatCount:"indefinite"}),React.createElement("animate",{attributeName:"x",values:"35;25;25;25;35",begin:"200ms",dur:"1000ms",repeatCount:"indefinite"}),React.createElement("animate",{attributeName:"y",values:"10;0;0;0;10",begin:"200ms",dur:"1000ms",repeatCount:"indefinite"})),React.createElement("rect",{width:"20",height:"20",x:"50",y:"0",rx:"3",ry:"3"},React.createElement("animate",{attributeName:"width",values:"0;20;20;20;0",begin:"400ms",dur:"1000ms",repeatCount:"indefinite"}),React.createElement("animate",{attributeName:"height",values:"0;20;20;20;0",begin:"400ms",dur:"1000ms",repeatCount:"indefinite"}),React.createElement("animate",{attributeName:"x",values:"60;50;50;50;60",begin:"400ms",dur:"1000ms",repeatCount:"indefinite"}),React.createElement("animate",{attributeName:"y",values:"10;0;0;0;10",begin:"400ms",dur:"1000ms",repeatCount:"indefinite"}))))}});ReactDOM.render(React.createElement(GetStarted_Step1_Component,null),document.getElementById("get_started_step1"));
},{}]},{},[1]);
